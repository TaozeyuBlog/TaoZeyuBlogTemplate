<main class="content" role="main">

<% var Articles = require("articles"); %>
<% var NameHandler = require("name_handler"); %>
<% var Router = require("router")%>

<% var article_groups = R.config("groups").map(function(group) { return R.dir(group); });%>
<% var articles = (new Articles()).collect(article_groups); %>

<% articles.forEach(function(article) { %>

<% var article_name = NameHandler.title_from_article_name(article.name); %>
<% var date = NameHandler.date_from_article_name(article.name) %>

<article class="post type-post status-publish format-standard hentry category-casper tag-test-tag">
		    <header class="post-header">
        		<span class="post-meta">
			    <time class="entry-date published"><%= date %></time>
				</span>
		        <h1 class="post-title"><a href="<%= Router.path_of_article(article) %>" rel="bookmark"><%= article_name %></a></h1>
         
    </header>
	<section class="post-content">
<p><%= article.getAbstractContent(200) %><a href="<%= Router.path_of_article(article) %>" class="more-link">［more &nbsp;］<span class="meta-nav">→</span></a></p>
	    		<div class="clear">&nbsp;</div>
	</section>
</article><!-- #post-## -->

<% });%>
	<nav class="pagination navigation paging-navigation" role="navigation">
		<div class="nav-links">
			<div class="older-posts">
                <a href="http://lacymorrow.com/projects/casper/?paged=2">
                    Older Posts <span class="meta-nav">→</span>
                </a>
            </div>
		    <div class="page-number">Page 1 of 2</div>	
		</div><!-- .nav-links -->
	</nav><!-- .navigation -->

	<div class="widget-area" role="complementary">
		<div class="clear">&nbsp;</div>
	</div><!-- #secondary -->
    
	<footer id="colophon" class="site-footer" role="contentinfo">
		<div class="site-info inner">
		    <section class="copyright">
		    	Copyright©2014-2016, Tao Zeyu, All Rights Reserved		    
            </section>
		</div><!-- .site-info -->
	</footer><!-- #colophon -->
    
</main>